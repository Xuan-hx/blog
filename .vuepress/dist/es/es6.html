<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>Hello VuePress | ECMAscript 18-2 </title>
    <meta name="description" content="Just playing around">
    
    <link rel="preload" href="/assets/css/17.styles.822fb8b8.css" as="style"><link rel="preload" href="/assets/js/app.cdeb6bf3.js" as="script"><link rel="preload" href="/assets/js/12.58a63fe1.js" as="script"><link rel="prefetch" href="/assets/js/9.07898d4f.js"><link rel="prefetch" href="/assets/js/1.3699a0ce.js"><link rel="prefetch" href="/assets/js/2.4ebc6968.js"><link rel="prefetch" href="/assets/js/3.6fe19138.js"><link rel="prefetch" href="/assets/js/4.56b4e3d2.js"><link rel="prefetch" href="/assets/js/5.4a1c4db9.js"><link rel="prefetch" href="/assets/js/6.055f0798.js"><link rel="prefetch" href="/assets/js/7.ddba8f95.js"><link rel="prefetch" href="/assets/js/8.97637406.js"><link rel="prefetch" href="/assets/js/0.e99737b7.js"><link rel="prefetch" href="/assets/js/10.c2c224fb.js"><link rel="prefetch" href="/assets/js/11.7bbe9d37.js"><link rel="prefetch" href="/assets/js/13.f8e1ac84.js"><link rel="prefetch" href="/assets/js/14.a4590d16.js"><link rel="prefetch" href="/assets/js/15.aa9fb761.js"><link rel="prefetch" href="/assets/js/16.69a6b817.js">
    <link rel="stylesheet" href="/assets/css/17.styles.822fb8b8.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><a href="/" class="router-link-active"><!----><span class="site-name">
      Hello VuePress
    </span></a><div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""><!----></div><!----></div></header><div class="sidebar"><!----><ul class="sidebar-links"><li><a href="/2018.html" class="sidebar-link">2017 总结 </a></li><li><a href="/Linux/1.html" class="sidebar-link">目录 文件管理</a></li><li><a href="/" class="sidebar-link">围城</a></li><li><a href="/es/canvas.html" class="sidebar-link">/es/canvas.html</a></li><li><a href="/es/es6.html" class="active sidebar-link">ECMAscript 18-2 </a></li><li><a href="/git/git.html" class="sidebar-link">git 命令  </a></li><li><a href="/git/gitinstruction.html" class="sidebar-link">/git/gitinstruction.html</a></li><li><a href="/javascript/高阶函数.html" class="sidebar-link">/javascript/高阶函数.html</a></li><li><a href="/method/兼容.html" class="sidebar-link">/method/兼容.html</a></li><li><a href="/method/突围.html" class="sidebar-link">/method/突围.html</a></li><li><a href="/node/eq/express/" class="sidebar-link">/node/eq/express/</a></li><li><a href="/node/express.html" class="sidebar-link">/node/express.html</a></li><li><a href="/organ/vscode.html" class="sidebar-link">/organ/vscode.html</a></li><li><a href="/vue/eq/better-scroll swiper.html" class="sidebar-link">/vue/eq/better-scroll swiper.html</a></li><li><a href="/vue/eq/v-lazy.html" class="sidebar-link">/vue/eq/v-lazy.html</a></li><li><a href="/vue/vue.html" class="sidebar-link">/vue/vue.html</a></li><li><a href="/wechat/wechat.html" class="sidebar-link">微信小程序 开发 18-1 </a></li></ul></div><div class="page"><div class="content"><h1 id="ecmascript-18-2"><a href="#ecmascript-18-2" aria-hidden="true" class="header-anchor">#</a> ECMAscript 18-2</h1><p>efault Parameters（默认参数） in ES6</p><p>let  link = (height = 50, color = ‘red’, url = ‘http://azat.co’) {
…
}</p><p>Template Literals （模板文本）in ES6</p><pre><code>let name = `Your name is ${first} ${last}. `;
let url = `http://localhost:3000/api/messages/${id}`;

Multi-line Strings （多行字符串）in ES6

let roadPoem = `Then took the other, as just as fair,
    And having perhaps the better claim
    Because it was grassy and wanted wear,
    Though as for that the passing there
    Had worn them really about the same,`;
let fourAgreements = `You have the right to be you.
    You can only be you when you do your best.`;
</code></pre><p>Destructuring Assignment （解构赋值）in ES6</p><pre><code>object
let  { house, mouse} = $('body').data(); // we'll get house and mouse variables
let  {jsonMiddleware} = require('body-parser');
let  {username, password} = req.body;


let  { house, mouse} = $('body').data(); // we'll get house and mouse variables
let  {jsonMiddleware} = require('body-parser');
let  {username, password} = req.body;

// arrey
let  [col1, col2]  = $('.column'),
</code></pre><p>[line1, line2, line3, , line5] = file.split(‘n’);</p><p>Enhanced Object Literals （增强的对象文本）in ES6
下面是一个典型ES5对象文本，里面有一些方法和属性：</p><pre><code>JavaScript

var serviceBase = {port: 3000, url: 'azat.co'},
    getAccounts = function(){return [1,2,3]};
    var accountServiceES5 = {
    port: serviceBase.port,
    url: serviceBase.url,
    getAccounts: getAccounts,
    toString: function() {
        return JSON.stringify(this.valueOf());
    },
    getUrl: function() {return &quot;http://&quot; + this.url + ':' + this.port},
    valueOf_1_2_3: getAccounts()
}


如果我们想让它更有意思，我们可以用Object.create从serviceBase继承原型的方法：

JavaScript

var accountServiceES5ObjectCreate = Object.create(serviceBase)
var accountServiceES5ObjectCreate = {
getAccounts: getAccounts,
toString: function() {
    return JSON.stringify(this.valueOf());
},
getUrl: function() {return &quot;http://&quot; + this.url + ':' + this.port},
valueOf_1_2_3: getAccounts()
}
我们知道，accountServiceES5ObjectCreate 和accountServiceES5 并不是完全一致的，因为一个对象(accountServiceES5)在__proto__对象中将有下面这些属性：
</code></pre><p>为了方便举例，我们将考虑它们的相似处。所以在ES6的对象文本中，既可以直接分配getAccounts: getAccounts,也可以只需用一个getAccounts，此外，我们在这里通过__proto__（并不是通过’proto’）设置属性，如下所示：</p><p>JavaScript</p><pre><code>var serviceBase = {port: 3000, url: 'azat.co'},
getAccounts = function(){return [1,2,3]};
var accountService = {
    __proto__: serviceBase,
    getAccounts,
    toString() {
        return JSON.stringify((super.valueOf()));
    },
    //另外，我们可以调用super防范，以及使用动态key值(valueOf_1_2_3):
    getUrl() {return &quot;http://&quot; + this.url + ':' + this.port},
    [ 'valueOf_' + getAccounts().join('_') ]: getAccounts()
};
console.log(accountService)
</code></pre><p>Arrow Functions （箭头函数）in ES6
() =&gt; {</p><pre><code>}
</code></pre><p>Promises in ES6</p><p>var wait1000 =  ()=&gt; new Promise((resolve, reject)=&gt; {
setTimeout(resolve, 1000)});
wait1000()
.then(function() {
console.log(‘Yay!’)
return wait1000()
})
.then(function() {
console.log(‘Wheeyee!’)
});
Block-Scoped Constructs Let and Const（块作用域构造Let and Const）
let b = () =&gt; {
let a = 0
}
Classes（类） in ES6
class baseModel {
constructor(options, data) { // class constructor，node.js 5.6暂时不支持options = {}, data = []这样传参
this.name = ‘Base’;
this.url = ‘http://azat.co/api’;
this.data = data;
this.options = options;
}</p><pre><code>    getName() { // class method
        console.log(`Class name: ${this.name}`);
    }
}

class AccountModel extends baseModel {
    constructor(options, data) {
        super({private: true}, ['32113123123', '524214691']);
        //call the parent method with super
        this.name = 'Account Model';
        this.url +='/accounts/';
    }
    get accountsData() { //calculated attribute getter
        // ... make XHR
        return this.data;
    }
}
let accounts = new AccountModel(5);
accounts.getName();
console.log('Data is %s', accounts.accountsData);
</code></pre><p>Modules（模块） in ES6</p><pre><code>//用ES6 写的module.js文件库：
export var port = 3000;
export function getAccounts(url) {
...
}

//需用import {name} from ‘my-module’语法
import {port, getAccounts} from 'module';
console.log(port); // 3000

//在main.js中把整个模块导入, 并命名为 service
import * as service from 'module';
console.log(service.port); // 3000
</code></pre><p>如何使用ES6  (Babel)
babel。你可以把它作为一个独立的工具使用，也可以把它放在构建中。grunt，gulp和webpack中都有可以支持babel的插件。</p><pre><code>npm install --save-dev gulp-babel

在gulpfile.js中，定义一个任务build，放入src/app.js，并且编译它进入构建文件中。
</code></pre><p>JavaScript
var gulp = require(‘gulp’),
babel = require(‘gulp-babel’);
gulp.task(‘build’, function () {
return gulp.src(‘src/app.js’)
.pipe(babel())
.pipe(gulp.dest(‘build’));
})</p><p>Node.js and ES6
在nodejs中，你可以用构建工具或者独立的Babel模块 babel-core 来编译你的Node.js文件。安装如下：</p><pre><code>npm install --save-dev babel-core

//在node.js中，你可以调用这个函数
require(&quot;babel-core&quot;).transform(ES5Code, options);
</code></pre><p>ES6总结</p><p>1、全新的Math, Number, String, Array 和 Object 方法</p><p>2、二进制和八进制数据类型</p><p>3、默认参数不定参数扩展运算符</p><p>4、Symbols符号</p><p>5、tail调用</p><p>6、Generators (生成器)</p><p>7、New data structures like Map and Set(新的数据构造对像MAP和set)</p><p>参考文献：
ES6 Cheatsheet (FREE PDF)
http://webapplog.com/ES6/comment-page-1/
Understanding ECMAScript 6 by Nicolas Zakas book
http://ES6-features.org/#DateTimeFormatting
IIFE：立刻运行的函数表达式
http://web.jobbole.com/86984/</p></div><!----><div class="content page-nav"><p class="inner"><span class="prev">
        ← <a href="/es/canvas.html" class="prev">
          /es/canvas.html
        </a></span><span class="next"><a href="/git/git.html">
          git 命令  
        </a> →
      </span></p></div></div></div></div>
    <script src="/assets/js/12.58a63fe1.js" defer></script><script src="/assets/js/app.cdeb6bf3.js" defer></script>
  </body>
</html>
