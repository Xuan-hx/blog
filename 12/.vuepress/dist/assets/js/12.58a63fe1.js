(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{54:function(e,n,t){"use strict";t.r(n);var o=t(0),r=Object(o.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"content"},[t("h1",{attrs:{id:"ecmascript-18-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ecmascript-18-2","aria-hidden":"true"}},[e._v("#")]),e._v(" ECMAscript 18-2")]),t("p",[e._v("efault Parameters（默认参数） in ES6")]),t("p",[e._v("let  link = (height = 50, color = ‘red’, url = ‘http://azat.co’) {\n…\n}")]),t("p",[e._v("Template Literals （模板文本）in ES6")]),t("pre",[t("code",[e._v("let name = `Your name is ${first} ${last}. `;\nlet url = `http://localhost:3000/api/messages/${id}`;\n\nMulti-line Strings （多行字符串）in ES6\n\nlet roadPoem = `Then took the other, as just as fair,\n    And having perhaps the better claim\n    Because it was grassy and wanted wear,\n    Though as for that the passing there\n    Had worn them really about the same,`;\nlet fourAgreements = `You have the right to be you.\n    You can only be you when you do your best.`;\n")])]),t("p",[e._v("Destructuring Assignment （解构赋值）in ES6")]),t("pre",[t("code",[e._v("object\nlet  { house, mouse} = $('body').data(); // we'll get house and mouse variables\nlet  {jsonMiddleware} = require('body-parser');\nlet  {username, password} = req.body;\n\n\nlet  { house, mouse} = $('body').data(); // we'll get house and mouse variables\nlet  {jsonMiddleware} = require('body-parser');\nlet  {username, password} = req.body;\n\n// arrey\nlet  [col1, col2]  = $('.column'),\n")])]),t("p",[e._v("[line1, line2, line3, , line5] = file.split(‘n’);")]),t("p",[e._v("Enhanced Object Literals （增强的对象文本）in ES6\n下面是一个典型ES5对象文本，里面有一些方法和属性：")]),t("pre",[t("code",[e._v("JavaScript\n\nvar serviceBase = {port: 3000, url: 'azat.co'},\n    getAccounts = function(){return [1,2,3]};\n    var accountServiceES5 = {\n    port: serviceBase.port,\n    url: serviceBase.url,\n    getAccounts: getAccounts,\n    toString: function() {\n        return JSON.stringify(this.valueOf());\n    },\n    getUrl: function() {return \"http://\" + this.url + ':' + this.port},\n    valueOf_1_2_3: getAccounts()\n}\n\n\n如果我们想让它更有意思，我们可以用Object.create从serviceBase继承原型的方法：\n\nJavaScript\n\nvar accountServiceES5ObjectCreate = Object.create(serviceBase)\nvar accountServiceES5ObjectCreate = {\ngetAccounts: getAccounts,\ntoString: function() {\n    return JSON.stringify(this.valueOf());\n},\ngetUrl: function() {return \"http://\" + this.url + ':' + this.port},\nvalueOf_1_2_3: getAccounts()\n}\n我们知道，accountServiceES5ObjectCreate 和accountServiceES5 并不是完全一致的，因为一个对象(accountServiceES5)在__proto__对象中将有下面这些属性：\n")])]),t("p",[e._v("为了方便举例，我们将考虑它们的相似处。所以在ES6的对象文本中，既可以直接分配getAccounts: getAccounts,也可以只需用一个getAccounts，此外，我们在这里通过__proto__（并不是通过’proto’）设置属性，如下所示：")]),t("p",[e._v("JavaScript")]),t("pre",[t("code",[e._v("var serviceBase = {port: 3000, url: 'azat.co'},\ngetAccounts = function(){return [1,2,3]};\nvar accountService = {\n    __proto__: serviceBase,\n    getAccounts,\n    toString() {\n        return JSON.stringify((super.valueOf()));\n    },\n    //另外，我们可以调用super防范，以及使用动态key值(valueOf_1_2_3):\n    getUrl() {return \"http://\" + this.url + ':' + this.port},\n    [ 'valueOf_' + getAccounts().join('_') ]: getAccounts()\n};\nconsole.log(accountService)\n")])]),t("p",[e._v("Arrow Functions （箭头函数）in ES6\n() => {")]),t("pre",[t("code",[e._v("}\n")])]),t("p",[e._v("Promises in ES6")]),t("p",[e._v("var wait1000 =  ()=> new Promise((resolve, reject)=> {\nsetTimeout(resolve, 1000)});\nwait1000()\n.then(function() {\nconsole.log(‘Yay!’)\nreturn wait1000()\n})\n.then(function() {\nconsole.log(‘Wheeyee!’)\n});\nBlock-Scoped Constructs Let and Const（块作用域构造Let and Const）\nlet b = () => {\nlet a = 0\n}\nClasses（类） in ES6\nclass baseModel {\nconstructor(options, data) { // class constructor，node.js 5.6暂时不支持options = {}, data = []这样传参\nthis.name = ‘Base’;\nthis.url = ‘http://azat.co/api’;\nthis.data = data;\nthis.options = options;\n}")]),t("pre",[t("code",[e._v("    getName() { // class method\n        console.log(`Class name: ${this.name}`);\n    }\n}\n\nclass AccountModel extends baseModel {\n    constructor(options, data) {\n        super({private: true}, ['32113123123', '524214691']);\n        //call the parent method with super\n        this.name = 'Account Model';\n        this.url +='/accounts/';\n    }\n    get accountsData() { //calculated attribute getter\n        // ... make XHR\n        return this.data;\n    }\n}\nlet accounts = new AccountModel(5);\naccounts.getName();\nconsole.log('Data is %s', accounts.accountsData);\n")])]),t("p",[e._v("Modules（模块） in ES6")]),t("pre",[t("code",[e._v("//用ES6 写的module.js文件库：\nexport var port = 3000;\nexport function getAccounts(url) {\n...\n}\n\n//需用import {name} from ‘my-module’语法\nimport {port, getAccounts} from 'module';\nconsole.log(port); // 3000\n\n//在main.js中把整个模块导入, 并命名为 service\nimport * as service from 'module';\nconsole.log(service.port); // 3000\n")])]),t("p",[e._v("如何使用ES6  (Babel)\nbabel。你可以把它作为一个独立的工具使用，也可以把它放在构建中。grunt，gulp和webpack中都有可以支持babel的插件。")]),t("pre",[t("code",[e._v("npm install --save-dev gulp-babel\n\n在gulpfile.js中，定义一个任务build，放入src/app.js，并且编译它进入构建文件中。\n")])]),t("p",[e._v("JavaScript\nvar gulp = require(‘gulp’),\nbabel = require(‘gulp-babel’);\ngulp.task(‘build’, function () {\nreturn gulp.src(‘src/app.js’)\n.pipe(babel())\n.pipe(gulp.dest(‘build’));\n})")]),t("p",[e._v("Node.js and ES6\n在nodejs中，你可以用构建工具或者独立的Babel模块 babel-core 来编译你的Node.js文件。安装如下：")]),t("pre",[t("code",[e._v('npm install --save-dev babel-core\n\n//在node.js中，你可以调用这个函数\nrequire("babel-core").transform(ES5Code, options);\n')])]),t("p",[e._v("ES6总结")]),t("p",[e._v("1、全新的Math, Number, String, Array 和 Object 方法")]),t("p",[e._v("2、二进制和八进制数据类型")]),t("p",[e._v("3、默认参数不定参数扩展运算符")]),t("p",[e._v("4、Symbols符号")]),t("p",[e._v("5、tail调用")]),t("p",[e._v("6、Generators (生成器)")]),t("p",[e._v("7、New data structures like Map and Set(新的数据构造对像MAP和set)")]),t("p",[e._v("参考文献：\nES6 Cheatsheet (FREE PDF)\nhttp://webapplog.com/ES6/comment-page-1/\nUnderstanding ECMAScript 6 by Nicolas Zakas book\nhttp://ES6-features.org/#DateTimeFormatting\nIIFE：立刻运行的函数表达式\nhttp://web.jobbole.com/86984/")])])}],!1,null,null,null);n.default=r.exports}}]);